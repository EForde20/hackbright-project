{% extends 'base.html' %}

{% block title %}Recipe Search Results{% endblock %}

{% block content %}

<h2>Recipe Search Results</h2>

<p>Select Recipe(s) You Want to Cook:</p>

<p><form>

    {% for recipe in show_recipes %}
        <b>Recipe Name: {{ recipe['title'] }}</b><input type="checkbox" name="recipeid" value="{{ recipe['id'] }}"><br>
        Ready in {{ recipe['readyInMinutes'] }} minutes<br>
        <img src="{{ recipe['image'] }}"><br>
        {% if 'sourceName' in recipe %}
            via <a href="{{ recipe['sourceUrl'] }}">{{ recipe['sourceName'] }}</a><br><br>
        {% endif %}

        Ingredients in Inventory:<br>
        {% for ingredient in recipe['usedIngredients'] %}
            {{ ingredient['amount'] }} {{ ingredient['unit'] }} {{ ingredient['name'] }}<br>
        {% endfor %}<br>

        Missing Ingredients to Add to Shopping List:<br>
        {% for ingredient in recipe['missedIngredients'] %}
            {{ ingredient['amount'] }} {{ ingredient['unit'] }} {{ ingredient['name'] }}<br>
        {% endfor %}<br>
    {% endfor %}
    <input type="submit" value="Add Selected Recipe(s)" id="submit">
    </form><br>
    
    <form action="/shopping_list" method="POST">
        <input type="submit" value="Generate Shopping List">
    </form><br>
</p>

{% endblock %}